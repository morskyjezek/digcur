# Creating fixity information in the shell

Fixity information, which can be used to confirm that
a digital object is "unchanged" (per the [Society of American
Archivists _Dictionary of Archival Terminology_](https://dictionary.archivists.org/entry/fixity.html)),
can be created using checksum values calculated based on a file's
bitstream sequences. By recording the values, generated by standard
cryptographic hash algorithms, fixity can be monitored over time
and across preservation copies of digital information. This information
is generally managed in metadata records or filesystem inventory databases,
but it can be generated and checked using shell tools.

Note: This page demonstrates how to do this process using the `shasum`
utility, but to take similar steps using the MD5 algorithm, you
may need to use the `md5` utility.

## Creating checksum information using `shasum`

The `shasum` utility can be used to create and check fixity information for files.

To get more information about `shasum`, use the help flag:

```bash
shasum --help
```

Let's try creating checksum information using the `assets/metadata-doge.jpg` file.

```bash
shasum assets/metadata-doge.jpg
```

By default, the utility uses the SHA 256 algorithm. Specify other
algorithms using the `-a` flag.

```bash
shasum -a 256 assets/metadata-doge.jpg 
```

TRY:

```bash
shasum -a 512 assets/metadata-doge.jpg
```

* What differences do you notice about the output?

## Recording checksum information

To record checksum information, we can output the checksum
values to a file. Later, we can use this file as a checksum log
to return and assess the checksum of the file.

```bash
shasum -a 256 assets/metadata-doge.jpg > metadata-doge-sha256.txt
```

## Checking checksum information

To check, or evaluate, the checksum information, use the `-c` flag.
The flag argument should be the file that you want to check.

```bash
shasum -a 256 -c metadata-doge-sha256.txt
```

## Scripting the process

To extend the use of this process, it would be possible to create
a script file that takes a directory as an argument, loops through
each file in the directory, generates a checksum, and records it to
a specific checksum log file. 

For example, along these lines:

```bash
for i in Bundle-legacy-files/*.*; 

do shasum $i >> legacy-shasums.txt
```

Then, check the file:

```bash
shasum -c legacy-shasums.txt
```

733:shasum -a 256 -c sample-files/manifest-sha256.txt data/